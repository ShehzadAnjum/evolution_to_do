# SpecKit Plus Configuration
# Evolution of Todo Project
# Aligned with Project Constitution+Playbook

project:
  name: "Evolution of Todo"
  version: "02.001.000"
  hackathon: "Hackathon II - The Evolution of Todo"
  constitution_version: "1.2.1"

# Directory Structure (Constitutional Requirements)
structure:
  specs_dir: "specs"
  phases_dir: "specs/phases"
  features_dir: "specs/features"
  api_dir: "specs/api"
  database_dir: "specs/database"
  ui_dir: "specs/ui"
  tasks_dir: "specs/tasks"
  tasks_templates_dir: "specs/tasks/templates"

  # Reusable Intelligence Directories
  agents_dir: ".claude/agents"
  subagents_dir: ".claude/subagents"
  skills_dir: ".claude/skills"
  workflows_dir: ".claude/workflows"

  # Infrastructure Directories
  infra_dir: "infra"
  docker_dir: "infra/docker"
  k8s_dir: "infra/k8s"
  dapr_dir: "infra/dapr"

  # Code Directories
  frontend_dir: "frontend"
  backend_dir: "backend"

# Phase Definitions
phases:
  - id: "phase-1"
    name: "Console Application"
    status: "complete"
    deadline: "2025-12-07"
    points: 100
    features:
      - task-crud
    tech_stack:
      - Python 3.13+
      - UV package manager
      - Standard library only
    spec_file: "specs/phases/phase-1.md"
    tasks_file: "specs/tasks/phase-1-tasks.md"

  - id: "phase-2"
    name: "Web Application"
    status: "in-progress"
    deadline: "2025-12-14"
    points: 150
    features:
      - web-ui
      - rest-api
      - authentication
      - database
    tech_stack:
      - Next.js 16+
      - FastAPI
      - SQLModel
      - Neon PostgreSQL
      - Better Auth
    spec_file: "specs/phases/phase-2.md"
    tasks_file: "specs/tasks/phase-2-tasks.md"

  - id: "phase-3"
    name: "AI Chatbot"
    status: "planned"
    deadline: "2025-12-21"
    points: 200
    features:
      - ai-agent
      - mcp-tools
      - chatkit-ui
    tech_stack:
      - OpenAI Agents SDK
      - Official MCP SDK
      - ChatKit
    spec_file: "specs/phases/phase-3.md"
    tasks_file: "specs/tasks/phase-3-tasks.md"

  - id: "phase-4"
    name: "Local Kubernetes"
    status: "planned"
    deadline: "2026-01-04"
    points: 250
    features:
      - docker
      - helm
      - minikube
    tech_stack:
      - Docker
      - Minikube
      - Helm
      - kubectl-ai
      - kagent
    spec_file: "specs/phases/phase-4.md"
    tasks_file: "specs/tasks/phase-4-tasks.md"

  - id: "phase-5"
    name: "Cloud + Advanced Features"
    status: "planned"
    deadline: "2026-01-18"
    points: 300
    features:
      - doks
      - kafka
      - dapr
      - advanced-features
    tech_stack:
      - DigitalOcean Kubernetes (DOKS)
      - Kafka/Redpanda
      - Dapr
    spec_file: "specs/phases/phase-5.md"
    tasks_file: "specs/tasks/phase-5-tasks.md"

# Feature Specifications
features:
  - name: "tasks-core"
    spec_file: "specs/features/tasks-core.md"
    phases: ["phase-1", "phase-2", "phase-3", "phase-4", "phase-5"]

  - name: "auth-and-users"
    spec_file: "specs/features/auth-and-users.md"
    phases: ["phase-2", "phase-3", "phase-4", "phase-5"]

  - name: "chat-agent"
    spec_file: "specs/features/chat-agent.md"
    phases: ["phase-3", "phase-4", "phase-5"]

  - name: "recurring-tasks-and-reminders"
    spec_file: "specs/features/recurring-tasks-and-reminders.md"
    phases: ["phase-5"]

  - name: "events-and-kafka-dapr"
    spec_file: "specs/features/events-and-kafka-dapr.md"
    phases: ["phase-5"]

# Prompt History Records (PHR)
phr:
  enabled: true
  auto_create: true
  directory: "history/prompts"
  routing:
    constitution: "history/prompts/constitution/"
    features: "history/prompts/{feature}/"
    general: "history/prompts/general/"
  naming_convention: "{counter:03d}-{slug}.{type}.prompt.md"

# Architecture Decision Records (ADR)
adr:
  enabled: true
  directory: "history/adr"
  auto_suggest: true
  naming_convention: "{counter:03d}-{slug}.md"
  significance_test:
    impact: true              # Long-term consequences?
    alternatives: true        # Multiple viable options?
    scope: true              # Cross-cutting influence?
    reversibility: true      # Difficult to undo?

# Constitution Configuration
constitution:
  path: ".specify/memory/constitution.md"
  public_path: "specs/constitution.md"
  version: "1.2.1"
  enforcement:
    automated: true
    manual: true
    ai: true
  gates:
    - name: "phase-1-complete"
      script: "scripts/check-phase-1-complete.sh"
    - name: "phase-2-complete"
      script: "scripts/check-phase-2-complete.sh"
    - name: "phase-3-complete"
      script: "scripts/check-phase-3-complete.sh"
    - name: "phase-4-complete"
      script: "scripts/check-phase-4-complete.sh"
    - name: "phase-5-complete"
      script: "scripts/check-phase-5-complete.sh"

# Templates
templates:
  spec: ".specify/templates/spec-template.md"
  plan: ".specify/templates/plan-template.md"
  tasks: ".specify/templates/tasks-template.md"
  adr: ".specify/templates/adr-template.md"
  phr: ".specify/templates/phr-template.prompt.md"
  checklist: ".specify/templates/checklist-template.md"
  agent: ".specify/templates/agent-file-template.md"

# Agents (Constitutional Requirement)
agents:
  system_architect:
    file: ".claude/agents/system-architect.md"
    scope: "Architecture across all phases"
  backend_service:
    file: ".claude/agents/backend-service.md"
    scope: "FastAPI, SQLModel, MCP server"
  frontend_web:
    file: ".claude/agents/frontend-web.md"
    scope: "Next.js, UI, ChatKit"
  auth_security:
    file: ".claude/agents/auth-security.md"
    scope: "Better Auth, JWT, security"
  ai_mcp:
    file: ".claude/agents/ai-mcp.md"
    scope: "AI agent, MCP tools"
  infra_devops:
    file: ".claude/agents/infra-devops.md"
    scope: "Docker, K8s, Helm, Dapr"
  testing_quality:
    file: ".claude/agents/testing-quality.md"
    scope: "Tests, quality gates"
  docs_demo:
    file: ".claude/agents/docs-demo.md"
    scope: "README, docs, demos"
  vercel_deployment:
    file: ".claude/agents/vercel-deployment.md"
    scope: "Vercel-specific deployment"

# Subagents (Narrow Specialists)
subagents:
  - spec_constitution_enforcer
  - task_planner
  - api_endpoint_implementer
  - db_schema_migration_specialist
  - ui_component_implementer
  - better_auth_jwt_integrator
  - mcp_tools_implementer
  - chat_agent_behavior_tuner
  - dockerfile_creator
  - helm_k8s_manifests_writer
  - k8s_troubleshooter
  - vercel_sanitizer
  - test_generator
  - git_hygiene_subagent

# Skills (Reusable Knowledge)
skills:
  - spec_kit_monorepo
  - neon_sqlmodel
  - better_auth_jwt
  - mcp_crud_design
  - chatkit_integration
  - docker_minikube
  - kafka_dapr_patterns
  - vercel_deployment
  - git_workflow

# Versioning
versioning:
  enabled: true
  version_file: "VERSION"
  changelog_file: "CHANGELOG.md"
  format: "MAJOR.MINOR.PATCH"
  current_version: "02.001.000"

# Documentation
documentation:
  session_handoff: "docs/SESSION_HANDOFF.md"
  daily_checklist: "docs/DAILY_CHECKLIST.md"
  project_status: "docs/PROJECT_STATUS.md"
  readme: "README.md"
  root_claude: "CLAUDE.md"
  backend_claude: "backend/CLAUDE.md"
  frontend_claude: "frontend/CLAUDE.md"
  infra_claude: "infra/CLAUDE.md"

# Development Workflow
workflow:
  methodology: "spec-driven-development"
  tools:
    - Claude Code
    - SpecKit Plus
  process:
    - "/sp.specify - Create specification"
    - "/sp.plan - Create implementation plan"
    - "/sp.tasks - Generate task list"
    - "/sp.clarify - Clarify ambiguities"
    - "Implement from spec"
    - "/sp.adr - Document decisions"
    - "/sp.phr - Record prompt history"

# Git Configuration
git:
  main_branch: "main"
  dev_branch: "dev"
  feature_branch_prefix: "feature/"
  hooks:
    pre_commit: true
    pre_push: false
  ignore_patterns:
    - ".env"
    - ".env.local"
    - "node_modules/"
    - "__pycache__/"
    - ".venv/"
    - ".pytest_cache/"

# Deployment
deployment:
  frontend:
    platform: "Vercel"
    branch: "main"
    url_env: "NEXT_PUBLIC_APP_URL"
  backend:
    platform: "Railway"
    branch: "main"
    url_env: "API_URL"
  database:
    platform: "Neon"
    url_env: "DATABASE_URL"

# Bonus Points Tracking
bonus_points:
  reusable_intelligence: 200
  cloud_native_blueprints: 200
  multi_language_support: 100
  voice_commands: 200
  total_possible: 600

# Metadata
metadata:
  created: "2025-12-01"
  last_updated: "2025-12-09"
  created_by: "AI Assistant (Claude Code)"
  constitution_alignment: "Project Constitution+Playbook v1.0"
  hackathon_alignment: "Hackathon II Spec v1.0"
