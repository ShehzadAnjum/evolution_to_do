# Default values for evolution-todo

# Global settings
global:
  imageRegistry: ghcr.io/shehzadanjum/evolution_to_do

# Backend configuration
backend:
  name: backend
  replicaCount: 1
  image:
    repository: ghcr.io/shehzadanjum/evolution_to_do/backend
    tag: latest
    pullPolicy: Always
  service:
    type: ClusterIP
    port: 8000
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 256Mi
  env:
    # Set via secrets or configmap
    DATABASE_URL: ""
    BETTER_AUTH_SECRET: ""
    OPENAI_API_KEY: ""

# Frontend configuration
frontend:
  name: frontend
  replicaCount: 1
  image:
    repository: ghcr.io/shehzadanjum/evolution_to_do/frontend
    tag: latest
    pullPolicy: Always
  service:
    type: LoadBalancer  # External access via Azure LB
    port: 3000
  resources:
    limits:
      cpu: 300m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi
  env:
    NEXT_PUBLIC_API_URL: "http://backend:8000"

# Ingress configuration
ingress:
  enabled: true
  className: ""
  annotations: {}
  hosts:
    - host: evolution-todo.local
      paths:
        - path: /api
          pathType: Prefix
          service: backend
        - path: /
          pathType: Prefix
          service: frontend
  tls: []

# Image pull secrets (for private GHCR) - leave empty for public images
imagePullSecrets: []

# Pod security context
securityContext:
  runAsNonRoot: true
  runAsUser: 1000

# Health checks
healthCheck:
  enabled: true
  initialDelaySeconds: 10
  periodSeconds: 30
  timeoutSeconds: 5
